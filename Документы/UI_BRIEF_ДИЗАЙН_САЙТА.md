# UI BRIEF — ДИЗАЙН ВЕБ‑ИНТЕРФЕЙСА ДЛЯ FantaProjekt
Дата: 15 Oct 2025
Ответственный: UI/UX дизайнер
Версия: 1.0

## 1. Контекст проекта
- Назначение: система генерации коротких видео (Shorts) на основе сцен, медиа, озвучки и визуальных оверлеев.
- Бэкенд/рендер: Node.js + TypeScript, Remotion (React‑видео), FFmpeg.
- UI‑часть: на React (Vite), существующие страницы — список, создание, детали видео.
- Важное ограничение: масштабируемость. Нельзя ломать текущую архитектуру, лучше добавлять новые компоненты/модули.

Ключевые пути UI:
- `src/ui/pages/VideoList.tsx` — список видео
- `src/ui/pages/VideoCreator.tsx` — конструктор создания
- `src/ui/pages/VideoDetails.tsx` — детали видео и статус рендера
- `src/ui/components/Layout.tsx` — каркас приложения
- `src/ui/index.html`, `src/ui/index.tsx`, `src/ui/styles/index.css`

Связанные модули домена:
- `src/short-creator/ShortCreator.ts` — оркестрация сборки
- `src/remotion/compositions/*.tsx` — композиции Remotion (наложения, текст, изображения)
- `src/types/shorts.ts` — типы входных данных (сцены, эффекты)

## 2. Цель дизайна
- Создать современный, понятный, быстрый UI для:
  - управления видео‑проектами
  - конфигурирования сцен и эффектов (в том числе 5–10 одновременно)
  - запуска рендеров и отслеживания статусов
  - просмотра результатов и истории
- Сохранить логическую совместимость с текущими страницами и путями. Дизайн должен масштабироваться под расширение функционала.

## 3. Пользовательские роли (базовые)
- Оператор контента: запускает сборки, редактирует сцены, накладывает эффекты
- Тех. специалист: проверяет статусы/логи, диагностирует падения

## 4. Основные разделы и страницы
1) Дашборд / Список видео (`VideoList`)
   - Таблица/карточки проектов с колонками: ID, название, дата, статус (queued/processing/ready/failed), длительность, действия
   - Фильтры по дате/статусу, поиск по названию/ID
   - CTA: "Создать видео", переход к деталям

2) Создание видео (`VideoCreator`)
   - Формовые блоки:
     - Общие параметры проекта (название, формат: portrait/landscape)
     - Источники медиа (видео/фото/аудио; URL/локальные)
     - Озвучка/музыка (выбор и уровни)
     - Сцены: список сцен с редактором порядка, длительности
     - Эффекты наложения (overlay):
       - добавление 5–10 эффектов в сцену
       - параметры: тип (видео/изображение), `blendMode` (normal/screen/multiply/overlay/add), `opacity`, тайминг (start/end сек), слой (z‑order)
   - Предпросмотр статичный (кадровый) по ключевым сценам — необязательная заглушка
   - Кнопки: "Сохранить черновик", "Запустить рендер"

3) Детали видео (`VideoDetails`)
   - Шапка с метаданными (ID, имя, формат, длительность)
   - Статусная панель: queued → processing → ready/failed
   - Журнал событий (вкратце): временные метки, стадии
   - Скачивание результата/просмотр встроенного плеера при `ready`
   - Диагностика при `failed`: краткое сообщение и ссылка на расширенные логи

4) Глобальная навигация (`Layout`)
   - Шапка: логотип, навигационные пункты (Список, Создать), индикатор фоновой активности
   - Левое меню (опционально): разделы проекта
   - Нижний бар: версия продукта, ссылку на документы

## 5. Функциональные требования к UI
- Поддержка 5–10 одновременных оверлеев внутри сцены:
  - Добавление/удаление/копирование настроек эффекта
  - Поля настроек: тип (видео/изображение), путь/URL, `blendMode`, `opacity`, тайминг (start/end, сек), порядок слоя
- Управление сценами:
  - Добавить/удалить сцену, задать длительность, порядок
  - Привязка медиа к сцене (из источников)
- Запуск рендера и мониторинг статуса:
  - Явный старт рендера с текущей конфигурацией
  - Визуальные индикаторы и автообновление статусов
- История и повторный запуск:
  - Список последних задач, быстрый рестарт
- Состояния загрузки/ошибок:
  - Прелоадеры, тосты, баннеры ошибок

## 6. Нефункциональные требования
- Адаптивность: десктоп (основной), планшет, базовая мобильная вёрстка
- Доступность: контраст, фокус, aria‑атрибуты, клавиатурная навигация
- Производительность: лёгкие экраны, отложенные загрузки, заметная отзывчивость
- Консистентность: единый дизайн‑систем подход (цвета/типы/отступы/сетки)

## 7. Данные, сущности и состояния
- Видео‑проект: id, name, format, createdAt, status, duration
- Сцена: index, durationSec, assets (video/image), эффекты (см. ниже)
- Эффект (overlay): id, type(video|image), src, blendMode, opacity, zIndex, timing {start,end}
- Статус рендера: queued | processing | ready | failed
- Ошибки: код/текст, ссылка на логи

## 8. API и интеграционные точки (для макетов и подписей)
- Создание задания: `POST /api/short-video` (вводное тело аналогично `test-overlays-*.json`)
- Статус: `GET /api/short-video/:id/status`
- Результат: путь на файловой системе или CDN (в проекте: `/.ai-agents-az-video-generator/videos/*.mp4`)

## 9. Навигационные сценарии (user flows)
- Создать → заполнить форму → запустить рендер → перейти к Деталям → дождаться `ready` → скачать/просмотреть
- Из списка → фильтр по статусу `failed` → открыть Детали → прочитать ошибку → вернуться к Созданию и поправить конфигурацию

## 10. Компонентная карта (высокий уровень)
- Общие: Header, Sidebar (опц.), Footer, Toasts, Loader, EmptyState, ErrorBanner
- Список: Table/CardList, Filters, Paginator
- Создание: Form, SceneList, SceneItem, EffectList, EffectItem, MediaPicker, TimingEditor, BlendModeSelector, OpacityControl, ZOrderControl
- Детали: StatusPanel, Timeline (упрощ.), EventLog, VideoPlayer (при ready)

## 11. Контент и тональность
- Интерфейс для профессионального использования, минимум жаргона
- Чёткие подписи полей, подсказки для сложных параметров (blendMode, тайминг)
- Ошибки и статусы — кратко, по делу, с подсветкой действий

## 12. Бренд и визуальные ориентиры
- Тема: тёмная десктоп‑тема (почти чёрная) с контрастными акцентами, как на предоставленном скрине
- Цветовая схема (предварительно):
  - Фон базовый: #0B0B0D — #0F1115
  - Поверхности: #14161C, #1A1D24
  - Текст основной: #E6E8EB
  - Текст вторичный: #A8AFB9
  - Границы/делители: #2A2F37
  - Акценты (CTA/статусы): насыщенный яркий (уточнить по скрину, например #22D3EE или #7C3AED)
  - Ошибки/успех/предупреждения: error #EF4444, success #10B981, warn #F59E0B
- Шрифты: современный гротеск, четкая иерархия заголовков
- Иконография: минималистичная, понятные пиктограммы для статусов и действий

## 13. Макеты и артефакты на выход
 Макеты и артефакты на выход
- Low‑fi наброски основных страниц
- High‑fi макеты (Desktop первично), адаптивные версии
- UI‑кит: цвета, типографика, кнопки, формы, таблицы, тосты, карточки, плейсхолдеры
- Схема состояний: loading/empty/error для ключевых экранов

## 14. Гайд по проверке (acceptance UI)
- Доступность основных действий ≤ 2–3 кликов
- Удобство добавления 5–10 оверлеев (минимум прокрутки/лишних кликов)
- Ясность статусов: мгновенно понятно, что происходит и что делать дальше
- Консистентность отступов, цветов, размеров

## 15. Приложения (ссылки на код)
- `src/ui/pages/VideoList.tsx`
- `src/ui/pages/VideoCreator.tsx`
- `src/ui/pages/VideoDetails.tsx`
- `src/ui/components/Layout.tsx`
- `src/remotion/compositions/BlendOverlay.tsx`
- `src/types/shorts.ts`
- `test-overlays-http.json`

## 16. Ограничения
- Не менять существующие бизнес‑модули и функции (бэкенд/рендер); допускается расширение UI компонентами.
- Сохранять единый стиль и код‑гайд проекта.
