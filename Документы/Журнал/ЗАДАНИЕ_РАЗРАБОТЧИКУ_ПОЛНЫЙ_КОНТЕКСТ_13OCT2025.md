# üéØ –ó–ê–î–ê–ù–ò–ï –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–£: FantaProjekt - –ü–æ–ª–Ω—ã–π –ö–æ–Ω—Ç–µ–∫—Å—Ç

---

## ü§ñ –ü–†–û–ú–ü–¢ –î–õ–Ø AI –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê

```
–¢—ã senior fullstack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º FantaProjekt - —Å–∏—Å—Ç–µ–º–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–∏–¥–µ–æ (shorts) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Remotion, Kokoro TTS, Whisper CPP –∏ Pexels API.

–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:
1. –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ò–î–ï–ê–õ–¨–ù–û - –ù–ï –õ–û–ú–ê–ô —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É
2. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –†–ê–°–®–ò–†–ò–¢–¨ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
3. –í—Å–µ –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ú–ò –∏ –ù–ï –≤–ª–∏—è—Ç—å –Ω–∞ –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
4. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–º, —á–∏—Å—Ç—ã–º, —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
5. –¢–µ—Å—Ç–∏—Ä—É–π –∫–∞–∂–¥—É—é —Ñ–∏—á—É –ü–ï–†–ï–î —Ç–µ–º –∫–∞–∫ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ

–¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï:
- ‚úÖ –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç (Pexels ‚Üí TTS ‚Üí Subtitles ‚Üí Video)
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ)
- ‚è≥ –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–º. —Ä–∞–∑–¥–µ–ª "–ó–∞–¥–∞—á–∏")

–¢–í–û–Ø –¶–ï–õ–¨:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–°–ï —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

–ü–û–î–•–û–î:
1. –ß–∏—Ç–∞–π –í–°–Æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∏–∂–µ
2. –ò–∑—É—á–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–æ–¥–æ–≤—É—é –±–∞–∑—É
3. –†–µ–∞–ª–∏–∑—É–π —Ñ—É–Ω–∫—Ü–∏–∏ –ü–û–≠–¢–ê–ü–ù–û (–ø–æ –æ–¥–Ω–æ–π)
4. –¢–µ—Å—Ç–∏—Ä—É–π –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –û–¢–î–ï–õ–¨–ù–û
5. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –∏–∑–º–µ–Ω–µ–Ω–∏—è

–ù–ê–ß–ù–ò –° –ß–¢–ï–ù–ò–Ø –í–°–ï–ì–û –î–û–ö–£–ú–ï–ù–¢–ê –î–û –ö–û–ù–¶–ê! üëá
```

---

## üìñ –û–ì–õ–ê–í–õ–ï–ù–ò–ï

1. [–ò—Å—Ç–æ—Ä–∏—è –ü—Ä–æ–µ–∫—Ç–∞](#–∏—Å—Ç–æ—Ä–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∏-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
3. [–¢–µ–∫—É—â–µ–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ](#—Ç–µ–∫—É—â–µ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
4. [–ß—Ç–æ –†–∞–±–æ—Ç–∞–µ—Ç](#—á—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)
5. [–ß—Ç–æ –ù—É–∂–Ω–æ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å](#—á—Ç–æ-–Ω—É–∂–Ω–æ-—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å)
6. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü—Ä–∏–Ω—Ü–∏–ø—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã)
7. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–¥–µ—Ç–∞–ª–∏)
8. [–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã –∏ –†–µ—à–µ–Ω–∏—è](#–∏–∑–≤–µ—Å—Ç–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)
9. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
10. [API –ü—Ä–∏–º–µ—Ä—ã](#api-–ø—Ä–∏–º–µ—Ä—ã)
11. [–ü–ª–∞–Ω –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–ø–ª–∞–Ω-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
12. [–ö—Ä–∏—Ç–µ—Ä–∏–∏ –£—Å–ø–µ—Ö–∞](#–∫—Ä–∏—Ç–µ—Ä–∏–∏-—É—Å–ø–µ—Ö–∞)
13. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

---

## üìö –ò–°–¢–û–†–ò–Ø –ü–†–û–ï–ö–¢–ê

### **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ü—Ä–æ–µ–∫—Ç**
- **–ò—Å—Ç–æ—á–Ω–∏–∫**: https://github.com/gyoridavid/short-video-maker
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ**: –†–∞–±–æ—Ç–∞–µ—Ç –ò–î–ï–ê–õ–¨–ù–û, –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ, —á–∏—Å—Ç—ã–π –∫–æ–¥
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: Pexels API ‚Üí Kokoro TTS ‚Üí Whisper Subtitles ‚Üí Remotion Video
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: 
  - –°—Ç–∞–±–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω
  - –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã (CapCut —Å—Ç–∏–ª—å)
  - –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

### **–≠–≤–æ–ª—é—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞**
1. **Original** ‚Üí –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—Ç–æ–ª—å–∫–æ Pexels)
2. **PEPSI PROJECT** ‚Üí –ø–æ–ø—ã—Ç–∫–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å–ª–æ–º–∞–ª–∞—Å—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å)
3. **FantaProjekt** ‚Üí –ß–ò–°–¢–´–ô —Å—Ç–∞—Ä—Ç —Å –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ + –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### **–ü–æ—á–µ–º—É —Å–æ–∑–¥–∞–Ω FantaProjekt?**
- –ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—Ä—É—à–∏–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
- TypeScript –æ—à–∏–±–∫–∏, —Å–ª–æ–º–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ü–æ—Ç–µ—Ä—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- **–†–µ—à–µ–Ω–∏–µ**: –ù–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–≥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ê–ö–ö–£–†–ê–¢–ù–û

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò –¢–ï–•–ù–û–õ–û–ì–ò–ò

### **Tech Stack**

#### **Backend**
- **Node.js + TypeScript** - –æ—Å–Ω–æ–≤–Ω–æ–π runtime
- **Express.js** - REST API —Å–µ—Ä–≤–µ—Ä
- **Remotion** - –≤–∏–¥–µ–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (React-based)
- **Pino** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### **AI/ML –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- **Kokoro TTS** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–∑–≤—É—á–∫–∏ (ONNX –º–æ–¥–µ–ª—å)
  - –ú–æ–¥–µ–ª–∏: `fp32` (–∫–∞—á–µ—Å—Ç–≤–æ) / `fp16` (—Å–∫–æ—Ä–æ—Å—Ç—å)
  - –ì–æ–ª–æ—Å–∞: `af_sarah`, `af_bella`, `af_nicole`, `am_adam`, etc.
  
- **Whisper CPP** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤ (—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è)
  - –ú–æ–¥–µ–ª–∏: `tiny`, `base`, `small`, `medium`, `large`
  - –¢–µ–∫—É—â–∞—è: `medium.en` (1.5 GB RAM)
  - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è: `base.en` (400 MB RAM) –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

#### **Media Processing**
- **FFmpeg** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ
- **Pexels API** - –∏—Å—Ç–æ—á–Ω–∏–∫ –≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **Remotion Player** - –ø—Ä–µ–≤—å—é –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥

#### **Frontend**
- **React** - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Material-UI** - –¥–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞
- **Remotion Compositions** - –≤–∏–¥–µ–æ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Pipeline**

```
INPUT (scenes + config)
    ‚Üì
[1] Content Source Resolution
    - Pexels Search (‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç)
    - URL Download (‚è≥ –Ω—É–∂–Ω–æ)
    - Direct Files (‚è≥ –Ω—É–∂–Ω–æ)
    ‚Üì
[2] TTS Generation (Kokoro)
    - Text ‚Üí Audio (WAV)
    - Duration calculation
    ‚Üì
[3] Subtitle Generation (Whisper)
    - Audio ‚Üí Transcription
    - Token-level timestamps
    - Caption objects
    ‚Üì
[4] Video Composition (Remotion)
    - Media sync with audio
    - Caption animations
    - Effects (‚è≥ –Ω—É–∂–Ω–æ)
    - Text overlays (‚è≥ –Ω—É–∂–Ω–æ)
    ‚Üì
[5] Rendering (Remotion + FFmpeg)
    - Composition ‚Üí MP4
    - Audio mixing
    - Quality optimization
    ‚Üì
OUTPUT (MP4 video)
```

---

## ‚úÖ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### **–ß—Ç–æ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ**
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`npm install` —É—Å–ø–µ—à–Ω–æ)
- ‚úÖ TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É `3123`
- ‚úÖ Whisper CPP —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
- ‚úÖ Kokoro –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
- ‚úÖ Pexels API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### **–ß—Ç–æ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –≤–∏–¥–µ–æ (2-3 —Å–µ–∫) - **–†–ê–ë–û–¢–ê–ï–¢**
- ‚úÖ Pexels –ø–æ–∏—Å–∫ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ - **–†–ê–ë–û–¢–ê–ï–¢**
- ‚úÖ Kokoro TTS –≥–µ–Ω–µ—Ä–∞—Ü–∏—è - **–†–ê–ë–û–¢–ê–ï–¢**
- ‚úÖ Whisper —Å—É–±—Ç–∏—Ç—Ä—ã - **–†–ê–ë–û–¢–ê–ï–¢**
- ‚úÖ Remotion —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ - **–†–ê–ë–û–¢–ê–ï–¢**
- ‚úÖ API endpoints - **–†–ê–ë–û–¢–ê–Æ–¢**

### **–¢–µ—Å—Ç–æ–≤—ã–µ –î–∞–Ω–Ω—ã–µ**
```bash
# –ü–æ—Å–ª–µ–¥–Ω–µ–µ —É—Å–ø–µ—à–Ω–æ–µ –≤–∏–¥–µ–æ
Video ID: cmgp8l7ng0000iy54cvec0h6n
Duration: 2.86 sec
Size: 2.9 MB
Resolution: 1080x1920 (portrait)
Status: ‚úÖ ready

# –ó–∞–ø—Ä–æ—Å
POST /api/short-video
{
  "scenes": [{"text": "Amazing facts about space", "searchTerms": ["space", "stars", "galaxy"]}],
  "config": {"orientation": "portrait", "voice": "af_sarah", "musicVolume": "low", "captionPosition": "bottom"}
}
```

---

## üéØ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢

### **1. –ë–∞–∑–æ–≤—ã–π –ü–∞–π–ø–ª–∞–π–Ω (–û—Ä–∏–≥–∏–Ω–∞–ª)**
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π (text)
- –ò—â–µ—Ç –≤–∏–¥–µ–æ –Ω–∞ Pexels –ø–æ searchTerms
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ–∑–≤—É—á–∫—É —á–µ—Ä–µ–∑ Kokoro TTS
- –°–æ–∑–¥–∞—ë—Ç —Å—É–±—Ç–∏—Ç—Ä—ã —á–µ—Ä–µ–∑ Whisper
- –†–µ–Ω–¥–µ—Ä–∏—Ç –≤–∏–¥–µ–æ —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏
- –ù–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –º—É–∑—ã–∫—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### **2. API Endpoints**

#### **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ**
```
POST /api/short-video
Body: { scenes: [...], config: {...} }
Response: { videoId: "..." }
```

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**
```
GET /api/short-video/:videoId/status
Response: { status: "processing" | "ready" | "failed" }
```

#### **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ**
```
GET /api/short-video/:videoId
Response: MP4 file (stream)
```

#### **–°–ø–∏—Å–æ–∫ –≥–æ–ª–æ—Å–æ–≤**
```
GET /api/voices
Response: ["af_sarah", "af_bella", ...]
```

#### **–°–ø–∏—Å–æ–∫ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö —Ç–µ–≥–æ–≤**
```
GET /api/music-tags
Response: ["dramatic", "epic", "upbeat", ...]
```

### **3. UI**
- React –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ `http://localhost:3123`
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞
- –ü—Ä–µ–≤—å—é –≥–æ—Ç–æ–≤—ã—Ö –≤–∏–¥–µ–æ

### **4. –û—á–µ—Ä–µ–¥—å –ó–∞–¥–∞—á**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

## üöÄ –ß–¢–û –ù–£–ñ–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–¢–¨

### **–ü–†–ò–û–†–ò–¢–ï–¢ 1: Content Source Flexibility** üî¥

#### **–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –†–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û Pexels search
- Input: `searchTerms: ["space", "galaxy"]`
- –°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç –∏ —Å–∫–∞—á–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ —Å Pexels

#### **–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**

##### **A) URL Download**
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ/—Ñ–æ—Ç–æ:
```typescript
{
  "scenes": [{
    "text": "Amazing video",
    "media": {
      "type": "url",
      "urls": [
        "https://example.com/video1.mp4",
        "https://cdn.example.com/photo.jpg"
      ]
    }
  }]
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –°–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å –ª—é–±—ã—Ö HTTP/HTTPS URL
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ: MP4, MOV, AVI, WebM
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ç–æ: JPG, PNG, WebP
- –í–∞–ª–∏–¥–∞—Ü–∏—è MIME types
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (404, timeout, –±–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä)
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

##### **B) Direct Files (N8N Integration)**
N8N –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é (–Ω–µ —Ç–æ–ª—å–∫–æ URL):
```typescript
{
  "scenes": [{
    "text": "My video",
    "media": {
      "type": "files",
      "files": [
        {
          "filename": "video.mp4",
          "data": "base64_encoded_data_or_buffer",
          "mimeType": "video/mp4"
        }
      ]
    }
  }]
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å base64 encoded —Ñ–∞–π–ª—ã
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å binary buffers (–µ—Å–ª–∏ —á–µ—Ä–µ–∑ MCP)
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

##### **C) Mixed Sources**
–û–¥–∏–Ω —Å—Ü–µ–Ω–∞—Ä–∏–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:
```typescript
{
  "scenes": [
    { "text": "Intro", "media": { "type": "pexels", "searchTerms": ["sunset"] } },
    { "text": "Main", "media": { "type": "url", "urls": ["https://..."] } },
    { "text": "Outro", "media": { "type": "files", "files": [...] } }
  ]
}
```

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
- –°–æ–∑–¥–∞—Ç—å `ContentSourceFactory` –∫–ª–∞—Å—Å/–ø–∞—Ç—Ç–µ—Ä–Ω
- –¢—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏: `PexelsSource`, `UrlSource`, `FileSource`
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: `getMedia() ‚Üí Promise<LocalFilePath[]>`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `ShortCreator` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏

---

### **–ü–†–ò–û–†–ò–¢–ï–¢ 2: Blend Overlays (Effects)** üî¥

#### **–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:**
- –í–∏–¥–µ–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –±–µ–∑ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –¢–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ transitions (fade in/out)

#### **–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å overlay —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –≤–∏–¥–µ–æ:
```typescript
{
  "scenes": [{
    "text": "Epic moment",
    "media": { ... },
    "effects": [
      {
        "type": "blend",
        "overlayUrl": "https://example.com/fire.mp4",
        "blendMode": "screen",  // screen, multiply, overlay, add
        "opacity": 0.7,
        "duration": "full"  // full | { start: 0, end: 5 }
      },
      {
        "type": "blend",
        "overlayUrl": "https://example.com/glitch.webm",
        "blendMode": "add",
        "opacity": 0.5
      }
    ]
  }]
}
```

**Blend Modes (–∫–∞–∫ –≤ CapCut/AE):**
- `screen` - –æ—Å–≤–µ—Ç–ª–µ–Ω–∏–µ
- `multiply` - –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ
- `overlay` - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
- `add` - —Å–ª–æ–∂–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤
- `normal` - –æ–±—ã—á–Ω–æ–µ –Ω–∞–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö overlays (chain)
- –ö–æ–Ω—Ç—Ä–æ–ª—å opacity (0.0 - 1.0)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ –∏ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∫ overlay
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –≤–∏–¥–µ–æ
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–Ω–µ –¥–æ–ª–∂–Ω–æ —Å–∏–ª—å–Ω–æ –∑–∞–º–µ–¥–ª—è—Ç—å —Ä–µ–Ω–¥–µ—Ä)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
- –°–æ–∑–¥–∞—Ç—å `EffectManager` –∫–ª–∞—Å—Å
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Remotion –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS `mix-blend-mode` –∏–ª–∏ FFmpeg filters
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: –µ—Å–ª–∏ `effects` –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

---

### **–ü–†–ò–û–†–ò–¢–ï–¢ 3: Text Overlays** üü°

#### **–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**

–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–≤–µ—Ä–ª–µ–∏ (–Ω–µ —Å—É–±—Ç–∏—Ç—Ä—ã):
```typescript
{
  "scenes": [{
    "text": "Main content",
    "media": { ... },
    "textOverlays": [
      {
        "text": "BREAKING NEWS",
        "position": { "x": "center", "y": "top" },
        "style": {
          "fontSize": 48,
          "fontFamily": "Impact",
          "color": "#FF0000",
          "backgroundColor": "#000000",
          "padding": 10,
          "opacity": 0.9
        },
        "animation": "fadeIn",  // fadeIn, slideIn, typewriter, bounce
        "timing": { "start": 0, "end": 2 }
      },
      {
        "text": "Subscribe!",
        "position": { "x": "right", "y": "bottom" },
        "style": { ... },
        "animation": "bounce"
      }
    ]
  }]
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: center, top, bottom, left, right, –∏–ª–∏ —Ç–æ—á–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è: —à—Ä–∏—Ñ—Ç, —Ä–∞–∑–º–µ—Ä, —Ü–≤–µ—Ç, —Ñ–æ–Ω, –æ–±–≤–æ–¥–∫–∞, —Ç–µ–Ω—å
- –ê–Ω–∏–º–∞—Ü–∏–∏: fade, slide, typewriter, bounce, pulse
- Timing: –∫–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏ –∏—Å—á–µ–∑–∞–µ—Ç
- –ù–µ –¥–æ–ª–∂–Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
- –°–æ–∑–¥–∞—Ç—å Remotion –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `<TextOverlay>`
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π (reusable)
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤ `<ShortVideo>` –ø–æ—Å–ª–µ captions layer

---

### **–ü–†–ò–û–†–ò–¢–ï–¢ 4: Advanced Video Pipeline** üü°

#### **–ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**

##### **A) Mixed Media Types**
–°—Ü–µ–Ω–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –≤–∏–¥–µ–æ, —Ç–∞–∫ –∏ —Ñ–æ—Ç–æ:
```typescript
{
  "scenes": [{
    "text": "Travel journey",
    "media": {
      "type": "files",
      "files": [
        { "filename": "video1.mp4", ... },
        { "filename": "photo1.jpg", ... },  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ Ken Burns —ç—Ñ—Ñ–µ–∫—Ç
        { "filename": "video2.mp4", ... }
      ]
    }
  }]
}
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å Ken Burns (zoom/pan) –∫ —Å—Ç–∞—Ç–∏—á–Ω—ã–º —Ñ–æ—Ç–æ
- –†–∞—Å—á—ë—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ –º–µ–¥–∏–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ TTS
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –º–µ–¥–∏–∞
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∞—É–¥–∏–æ

##### **B) Chunk Processing –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ**
–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞: Whisper –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –Ω–∞ –¥–ª–∏–Ω–Ω—ã—Ö –∞—É–¥–∏–æ (7-8 –º–∏–Ω—É—Ç) –∏–∑-–∑–∞ RAM.

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –†–∞–∑–±–∏–≤–∞—Ç—å –∞—É–¥–∏–æ –Ω–∞ —á–∞–Ω–∫–∏ –ø–æ 30-60 —Å–µ–∫
// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —á–∞–Ω–∫ –æ—Ç–¥–µ–ª—å–Ω–æ
// –°–∫–ª–µ–∏–≤–∞—Ç—å SRT —Ñ–∞–π–ª—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∞–π–º–∫–æ–¥–∞–º–∏
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –¥–ª–∏–Ω—É –∞—É–¥–∏–æ
- –ï—Å–ª–∏ > 60 —Å–µ–∫ ‚Üí chunk processing
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–∫–ª–µ–π–∫–∞ SRT (—É—á—ë—Ç offset)

---

### **–ü–†–ò–û–†–ò–¢–ï–¢ 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** üü¢

#### **A) –ü–∞–º—è—Ç—å Management**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Whisper –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ ENV (`WHISPER_MODEL=base.en`)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ RAM usage –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞
- Graceful fallback –µ—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏
- –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

#### **B) –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
- –ö–µ—à —Å–∫–∞—á–∞–Ω–Ω—ã—Ö Pexels –≤–∏–¥–µ–æ
- –ö–µ—à TTS –∞—É–¥–∏–æ (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ç–µ–∫—Å—Ç + –≥–æ–ª–æ—Å)
- –ö–µ—à Whisper —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä –∫–µ—à–∞ —á–µ—Ä–µ–∑ ENV

#### **C) Concurrency**
- –¢–µ–∫—É—â–∞—è –æ—á–µ—Ä–µ–¥—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ workers)
- ENV: `CONCURRENCY=2` ‚Üí –¥–≤–∞ –≤–∏–¥–µ–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

#### **D) Progress Tracking**
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å: downloading, tts, whisper, rendering
- WebSocket –∏–ª–∏ SSE –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

---

## üé® –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

### **1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –õ–æ–≥–∏–∫–∏** üî¥ **–ö–†–ò–¢–ò–ß–ù–û!**

**–ù–ï –ò–ó–ú–ï–ù–Ø–ô:**
- –ë–∞–∑–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω `ShortCreator`
- –õ–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã Kokoro TTS
- –õ–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã Whisper CPP
- Remotion –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä—è–π)
- FFmpeg –æ–±—Ä–∞–±–æ—Ç–∫—É –∞—É–¥–∏–æ

**–ú–û–ñ–ù–û:**
- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã/–º–æ–¥—É–ª–∏
- –†–∞—Å—à–∏—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (Factory, Strategy)
- –î–æ–±–∞–≤–ª—è—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### **2. –û–±—Ä–∞—Ç–Ω–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**

–°—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
```typescript
// –≠—Ç–æ –í–°–ï–ì–î–ê –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (original format)
POST /api/short-video
{
  "scenes": [{ "text": "Hello", "searchTerms": ["sunset"] }],
  "config": { "orientation": "portrait", "voice": "af_sarah" }
}
```

–ù–æ–≤—ã–µ –ø–æ–ª—è - **–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ**:
```typescript
// –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏)
{
  "scenes": [{
    "text": "Hello",
    "media": { "type": "pexels", "searchTerms": ["sunset"] },  // –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û
    "effects": [...],  // –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û
    "textOverlays": [...]  // –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û
  }],
  "config": { ... }
}
```

### **3. Separation of Concerns**

–ö–∞–∂–¥–∞—è –Ω–æ–≤–∞—è —Ñ–∏—á–∞ - **–æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å**:

```
src/short-creator/
  ‚îú‚îÄ‚îÄ libraries/
  ‚îÇ   ‚îú‚îÄ‚îÄ Kokoro.ts         (‚úÖ original)
  ‚îÇ   ‚îú‚îÄ‚îÄ Whisper.ts        (‚úÖ original)
  ‚îÇ   ‚îú‚îÄ‚îÄ Pexels.ts         (‚úÖ original)
  ‚îÇ   ‚îú‚îÄ‚îÄ FFmpeg.ts         (‚úÖ original)
  ‚îÇ   ‚îî‚îÄ‚îÄ ContentSource/    (‚è≥ NEW)
  ‚îÇ       ‚îú‚îÄ‚îÄ Factory.ts
  ‚îÇ       ‚îú‚îÄ‚îÄ PexelsSource.ts
  ‚îÇ       ‚îú‚îÄ‚îÄ UrlSource.ts
  ‚îÇ       ‚îî‚îÄ‚îÄ FileSource.ts
  ‚îú‚îÄ‚îÄ effects/              (‚è≥ NEW)
  ‚îÇ   ‚îú‚îÄ‚îÄ EffectManager.ts
  ‚îÇ   ‚îî‚îÄ‚îÄ BlendEffect.ts
  ‚îú‚îÄ‚îÄ overlays/             (‚è≥ NEW)
  ‚îÇ   ‚îî‚îÄ‚îÄ TextOverlay.ts
  ‚îî‚îÄ‚îÄ ShortCreator.ts       (‚úÖ original, extend carefully)
```

### **4. Error Handling**

–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω:
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (Zod schemas)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏ (retry, timeout)
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ (Pino logger)
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ù–µ –∫—Ä–∞—à–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å

### **5. Testing**

–ö–∞–∂–¥–∞—è –Ω–æ–≤–∞—è —Ñ–∏—á–∞:
- –¢–µ—Å—Ç–∏—Ä—É–π –í–†–£–ß–ù–£–Æ —á–µ—Ä–µ–∑ API
- –°–æ–∑–¥–∞–≤–∞–π —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–ø—Ä–∏–º–µ—Ä—ã –≤ `/examples`)
- –ü—Ä–æ–≤–µ—Ä—è–π –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (–±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã, –ø–ª–æ—Ö–∏–µ URL, –∏ —Ç.–¥.)
- –£–±–µ–¥–∏—Å—å —á—Ç–æ —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### **Environment Variables**

```bash
# Required
PEXELS_API_KEY=xxx            # Pexels API key

# Optional
PORT=3123                     # Server port (default: 3123)
LOG_LEVEL=info                # Logging level: debug, info, warn, error
WHISPER_MODEL=base.en         # Whisper model: tiny, base, small, medium
WHISPER_VERBOSE=false         # Show Whisper logs
KOKORO_MODEL_PRECISION=fp32   # Kokoro precision: fp32 (quality) or fp16 (speed)
CONCURRENCY=1                 # Number of parallel jobs
VIDEO_CACHE_SIZE_IN_BYTES=... # Max cache size
DOCKER=false                  # Running in Docker
DEV=false                     # Development mode
```

### **TypeScript Types**

#### **Scene Input (Extended)**
```typescript
type SceneInput = {
  text: string;                          // TTS text (required)
  
  // Media source (one of):
  searchTerms?: string[];                // Original: Pexels search
  media?: {                              // NEW: Flexible source
    type: "pexels" | "url" | "files";
    searchTerms?: string[];              // if type=pexels
    urls?: string[];                     // if type=url
    files?: Array<{                      // if type=files
      filename: string;
      data: string | Buffer;             // base64 or binary
      mimeType: string;
    }>;
  };
  
  // Effects (NEW)
  effects?: Array<{
    type: "blend";
    overlayUrl?: string;                 // URL to overlay video/image
    overlayFile?: { ... };               // or direct file
    blendMode: "screen" | "multiply" | "overlay" | "add" | "normal";
    opacity: number;                     // 0.0 - 1.0
    duration?: "full" | { start: number; end: number };
  }>;
  
  // Text Overlays (NEW)
  textOverlays?: Array<{
    text: string;
    position: {
      x: "left" | "center" | "right" | number;
      y: "top" | "center" | "bottom" | number;
    };
    style: {
      fontSize?: number;
      fontFamily?: string;
      color?: string;
      backgroundColor?: string;
      padding?: number;
      opacity?: number;
    };
    animation?: "fadeIn" | "slideIn" | "typewriter" | "bounce" | "pulse";
    timing?: { start: number; end: number };
  }>;
};
```

### **Whisper Models Reference**

| Model | Size | RAM | Speed | Accuracy |
|-------|------|-----|-------|----------|
| tiny | 75 MB | ~200 MB | ‚ö°‚ö°‚ö° | 70-80% |
| base | 142 MB | ~400 MB | ‚ö°‚ö° | 85-90% ‚úÖ **Recommended** |
| small | 466 MB | ~800 MB | ‚ö° | 90-95% |
| medium | 1.5 GB | ~1.5 GB | üêå | 95-97% |
| large-v3 | 2.9 GB | ~3 GB | üêåüêå | 98%+ |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –≤–∏–¥–µ–æ (<1 –º–∏–Ω): `medium.en` (—Ç–µ–∫—É—â–∞—è)
- –î–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ (>1 –º–∏–Ω): `base.en` –∏–ª–∏ chunk processing
- –î–ª—è production —Å 8GB+ RAM: `medium.en` —Å—Ç–∞–±–∏–ª—å–Ω–æ

### **Remotion Composition Structure**

```typescript
// –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ù–ï –ú–ï–ù–Ø–ô!)
<Composition
  id="ShortVideo"
  component={ShortVideo}
  fps={30}
  width={1080}
  height={1920}
  durationInFrames={...}
  defaultProps={{
    scenes: [...],
    captions: [...],
    config: {...}
  }}
/>

// –í–Ω—É—Ç—Ä–∏ ShortVideo:
<AbsoluteFill>
  {/* 1. Background Media Layer */}
  <Sequence>
    <Video src={...} />
  </Sequence>
  
  {/* 2. Effects Layer (NEW - add here) */}
  <Sequence>
    <BlendEffect overlay={...} mode="screen" />
  </Sequence>
  
  {/* 3. Text Overlays Layer (NEW - add here) */}
  <Sequence>
    <TextOverlay text={...} position={...} />
  </Sequence>
  
  {/* 4. Captions Layer (KEEP as is!) */}
  <Sequence>
    <Caption text={...} style={...} />
  </Sequence>
  
  {/* 5. Audio Layer */}
  <Audio src={...} />
</AbsoluteFill>
```

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### **–ü—Ä–æ–±–ª–µ–º–∞ 1: Whisper Memory (RAM)**

**–°–∏–º–ø—Ç–æ–º:**
- –ü—Ä–æ—Ü–µ—Å—Å –ø–∞–¥–∞–µ—Ç —Å `SIGKILL` –Ω–∞ –¥–ª–∏–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
- `medium.en` –º–æ–¥–µ–ª—å —Ç—Ä–µ–±—É–µ—Ç ~1.5 GB RAM
- Swap –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `base.en` –º–æ–¥–µ–ª—å (400 MB)
2. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ**: Chunk processing (—Ä–∞–∑–±–∏–≤–∞—Ç—å –∞—É–¥–∏–æ –Ω–∞ —á–∞—Å—Ç–∏)
3. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ**: –£–≤–µ–ª–∏—á–∏—Ç—å RAM –¥–æ 8 GB

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è chunk processing:**
```typescript
// Pseudo-code
async function transcribeWithChunks(audioPath: string, chunkDuration = 60) {
  const totalDuration = await getAudioDuration(audioPath);
  
  if (totalDuration <= chunkDuration) {
    // –ö–æ—Ä–æ—Ç–∫–æ–µ –∞—É–¥–∏–æ - –æ–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
    return transcribeNormal(audioPath);
  }
  
  // –†–∞–∑–±–∏—Ç—å –Ω–∞ —á–∞–Ω–∫–∏
  const chunks = await splitAudio(audioPath, chunkDuration);
  
  // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥—ã–π —á–∞–Ω–∫
  const srtParts = [];
  let timeOffset = 0;
  
  for (const chunk of chunks) {
    const srt = await transcribeNormal(chunk.path);
    const adjusted = adjustTimestamps(srt, timeOffset);
    srtParts.push(adjusted);
    timeOffset += chunk.duration;
  }
  
  // –û–±—ä–µ–¥–∏–Ω–∏—Ç—å SRT
  return mergeSRT(srtParts);
}
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 2: Pexels Rate Limits**

**–°–∏–º–ø—Ç–æ–º:**
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 429 Too Many Requests
- –õ–∏–º–∏—Ç: 200 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å (free tier)

**–†–µ—à–µ–Ω–∏–µ:**
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
- Retry —Å exponential backoff
- –†–æ—Ç–∞—Ü–∏—è API –∫–ª—é—á–µ–π (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)

### **–ü—Ä–æ–±–ª–µ–º–∞ 3: Large File Downloads**

**–°–∏–º–ø—Ç–æ–º:**
- Timeout –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –±–æ–ª—å—à–∏—Ö –≤–∏–¥–µ–æ
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
- Streaming download (–Ω–µ –¥–µ—Ä–∂–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º
- –õ–∏–º–∏—Ç—ã: –º–∞–∫—Å 500 MB –Ω–∞ —Ñ–∞–π–ª
- –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### **–ü—Ä–æ–±–ª–µ–º–∞ 4: TypeScript Errors**

**–°–∏–º–ø—Ç–æ–º:**
- –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–ª—è–π Zod schemas –≤ `src/types/shorts.ts`
- –†–∞—Å—à–∏—Ä—è–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ types —á–µ—Ä–µ–∑ `extends` –∏–ª–∏ `&`
- –ò—Å–ø–æ–ª—å–∑—É–π optional fields (`?`)
- –ó–∞–ø—É—Å–∫–∞–π `npm run check` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
FantaProjekt/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config.ts                    # Configuration loader
‚îÇ   ‚îú‚îÄ‚îÄ logger.ts                    # Pino logger setup
‚îÇ   ‚îú‚îÄ‚îÄ index.ts                     # Entry point
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ shorts.ts                # TypeScript types & Zod schemas
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ short-creator/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ShortCreator.ts          # Main orchestrator (‚úÖ original)
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ libraries/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Kokoro.ts            # TTS service (‚úÖ original)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Whisper.ts           # Transcription service (‚úÖ original)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Pexels.ts            # Pexels API client (‚úÖ original)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FFmpeg.ts            # Audio processing (‚úÖ original)
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ContentSource/       # ‚è≥ NEW - Content source abstraction
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Factory.ts       # Factory pattern
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PexelsSource.ts  # Pexels implementation
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UrlSource.ts     # URL download
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ FileSource.ts    # Direct files
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ effects/                 # ‚è≥ NEW - Video effects
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EffectManager.ts     # Effects orchestrator
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BlendEffect.ts       # Blend overlay implementation
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ overlays/                # ‚è≥ NEW - Text overlays
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ TextOverlay.ts       # Text overlay component
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts                 # Express app
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routers/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ rest.ts              # REST API routes
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ mcp.ts               # MCP protocol routes
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ui/                          # React frontend
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VideoCreator.tsx     # Main UI
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Layout.tsx           # UI layout
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ remotion/                    # Remotion compositions
‚îÇ       ‚îú‚îÄ‚îÄ Root.tsx                 # Remotion root
‚îÇ       ‚îî‚îÄ‚îÄ compositions/
‚îÇ           ‚îú‚îÄ‚îÄ ShortVideo.tsx       # Main video composition (‚úÖ original)
‚îÇ           ‚îú‚îÄ‚îÄ Caption.tsx          # Caption component (‚úÖ original)
‚îÇ           ‚îú‚îÄ‚îÄ BlendOverlay.tsx     # ‚è≥ NEW - Blend effect component
‚îÇ           ‚îî‚îÄ‚îÄ TextOverlay.tsx      # ‚è≥ NEW - Text overlay component
‚îÇ
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îî‚îÄ‚îÄ music/                       # Background music files
‚îÇ
‚îú‚îÄ‚îÄ –î–æ–∫—É–º–µ–Ω—Ç—ã/
‚îÇ   ‚îú‚îÄ‚îÄ –ú–ê–ù–ò–§–ï–°–¢_–ü–†–û–ï–ö–¢–ê.md          # Project vision & goals
‚îÇ   ‚îú‚îÄ‚îÄ –ê–†–•–ò–¢–ï–ö–¢–£–†–ê.md               # Architecture details
‚îÇ   ‚îú‚îÄ‚îÄ –°–¢–ê–¢–£–°_–ü–†–û–ï–ö–¢–ê.md            # Current status
‚îÇ   ‚îî‚îÄ‚îÄ –ñ—É—Ä–Ω–∞–ª/
‚îÇ       ‚îî‚îÄ‚îÄ –ó–ê–î–ê–ù–ò–ï_–†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–£_... # This document
‚îÇ
‚îú‚îÄ‚îÄ package.json                     # Dependencies
‚îú‚îÄ‚îÄ tsconfig.json                    # TypeScript config
‚îú‚îÄ‚îÄ .env                             # Environment variables
‚îî‚îÄ‚îÄ README.md                        # Quick start guide
```

---

## üîå API –ü–†–ò–ú–ï–†–´

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ (Original Format)**

```bash
curl -X POST http://localhost:3123/api/short-video \
  -H "Content-Type: application/json" \
  -d '{
    "scenes": [
      {
        "text": "Amazing facts about space exploration",
        "searchTerms": ["space", "astronaut", "galaxy"]
      }
    ],
    "config": {
      "orientation": "portrait",
      "voice": "af_sarah",
      "musicVolume": "low",
      "captionPosition": "bottom"
    }
  }'

# Response:
# { "videoId": "cmgp8l7ng0000iy54cvec0h6n" }
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ (NEW: URL Source)**

```bash
curl -X POST http://localhost:3123/api/short-video \
  -H "Content-Type: application/json" \
  -d '{
    "scenes": [
      {
        "text": "Check out this amazing clip",
        "media": {
          "type": "url",
          "urls": [
            "https://example.com/video1.mp4",
            "https://example.com/video2.mp4"
          ]
        }
      }
    ],
    "config": {
      "orientation": "landscape",
      "voice": "am_adam",
      "musicVolume": "medium"
    }
  }'
```

### **3. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–µ–æ (NEW: Direct Files + Effects)**

```bash
curl -X POST http://localhost:3123/api/short-video \
  -H "Content-Type: application/json" \
  -d '{
    "scenes": [
      {
        "text": "Epic gaming moment",
        "media": {
          "type": "files",
          "files": [
            {
              "filename": "gameplay.mp4",
              "data": "base64_encoded_video_data...",
              "mimeType": "video/mp4"
            }
          ]
        },
        "effects": [
          {
            "type": "blend",
            "overlayUrl": "https://example.com/fire-overlay.webm",
            "blendMode": "screen",
            "opacity": 0.6
          }
        ],
        "textOverlays": [
          {
            "text": "EPIC WIN!",
            "position": { "x": "center", "y": "top" },
            "style": {
              "fontSize": 64,
              "color": "#FFD700",
              "fontFamily": "Impact"
            },
            "animation": "bounce",
            "timing": { "start": 0, "end": 2 }
          }
        ]
      }
    ],
    "config": {
      "orientation": "landscape",
      "voice": "am_michael",
      "musicVolume": "high"
    }
  }'
```

### **4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**

```bash
curl http://localhost:3123/api/short-video/cmgp8l7ng0000iy54cvec0h6n/status

# Response:
# { "status": "processing" }  or  { "status": "ready" }  or  { "status": "failed" }
```

### **5. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ**

```bash
curl -o video.mp4 http://localhost:3123/api/short-video/cmgp8l7ng0000iy54cvec0h6n

# –ò–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
# http://178.156.142.35:3123/api/short-video/cmgp8l7ng0000iy54cvec0h6n
```

### **6. –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤**

```bash
curl http://localhost:3123/api/voices

# Response:
# ["af_sarah", "af_bella", "af_nicole", "am_adam", "am_michael", ...]
```

---

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### **–≠—Ç–∞–ø 1: Content Source Flexibility** (‚è∞ ~4-6 —á–∞—Å–æ–≤)

1. **–°–æ–∑–¥–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏** (1-2 —á–∞—Å–∞)
   - [ ] –°–æ–∑–¥–∞—Ç—å `ContentSource` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - [ ] –°–æ–∑–¥–∞—Ç—å `ContentSourceFactory`
   - [ ] Refactor `PexelsSource` –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UrlSource** (1-2 —á–∞—Å–∞)
   - [ ] HTTP client —Å timeout & retry
   - [ ] Validation (MIME type, file size)
   - [ ] Download –≤ temp folder
   - [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å FileSource** (1 —á–∞—Å)
   - [ ] Parse base64 –∏–ª–∏ binary
   - [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ temp folder
   - [ ] Validation

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ ShortCreator** (1 —á–∞—Å)
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å Zod schemas
   - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Factory –≤ –ø–∞–π–ø–ª–∞–π–Ω–µ
   - [ ] Backward compatibility —Ç–µ—Å—Ç—ã

5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (1 —á–∞—Å)
   - [ ] –¢–µ—Å—Ç: Pexels (old format)
   - [ ] –¢–µ—Å—Ç: Pexels (new format)
   - [ ] –¢–µ—Å—Ç: URL download
   - [ ] –¢–µ—Å—Ç: Direct files
   - [ ] –¢–µ—Å—Ç: Mixed sources

---

### **–≠—Ç–∞–ø 2: Blend Overlays** (‚è∞ ~3-5 —á–∞—Å–æ–≤)

1. **–°–æ–∑–¥–∞—Ç—å EffectManager** (1 —á–∞—Å)
   - [ ] –ö–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
   - [ ] Download overlay files
   - [ ] Validation

2. **Remotion BlendOverlay Component** (2-3 —á–∞—Å–∞)
   - [ ] React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - [ ] CSS `mix-blend-mode` –∏–ª–∏ `<canvas>`
   - [ ] Opacity control
   - [ ] Timing synchronization

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é** (1 —á–∞—Å)
   - [ ] –î–æ–±–∞–≤–∏—Ç—å layer –≤ ShortVideo
   - [ ] –û–±–Ω–æ–≤–∏—Ç—å schemas
   - [ ] Props passing

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (1 —á–∞—Å)
   - [ ] –¢–µ—Å—Ç: Single overlay (screen)
   - [ ] –¢–µ—Å—Ç: Multiple overlays (chain)
   - [ ] –¢–µ—Å—Ç: Different blend modes
   - [ ] –¢–µ—Å—Ç: Performance (render time)

---

### **–≠—Ç–∞–ø 3: Text Overlays** (‚è∞ ~2-4 —á–∞—Å–∞)

1. **–°–æ–∑–¥–∞—Ç—å TextOverlay Component** (1-2 —á–∞—Å–∞)
   - [ ] React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - [ ] Positioning logic
   - [ ] Styling system

2. **–ê–Ω–∏–º–∞—Ü–∏–∏** (1-2 —á–∞—Å–∞)
   - [ ] fadeIn animation
   - [ ] slideIn animation
   - [ ] typewriter animation
   - [ ] bounce animation

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (30 –º–∏–Ω)
   - [ ] Layer –≤ ShortVideo
   - [ ] Schemas update

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (30 –º–∏–Ω)
   - [ ] –†–∞–∑–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
   - [ ] –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏
   - [ ] –†–∞–∑–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

---

### **–≠—Ç–∞–ø 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** (‚è∞ ~3-5 —á–∞—Å–æ–≤)

1. **Chunk Processing –¥–ª—è Whisper** (2-3 —á–∞—Å–∞)
   - [ ] Audio splitting —Ñ—É–Ω–∫—Ü–∏—è
   - [ ] Chunked transcription
   - [ ] SRT merging —Å offset
   - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ duration > 60s)

2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** (1-2 —á–∞—Å–∞)
   - [ ] Cache layer –¥–ª—è Pexels
   - [ ] Cache layer –¥–ª—è TTS
   - [ ] Cache cleanup policy

3. **Progress Tracking** (1 —á–∞—Å)
   - [ ] –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞—Ç—É—Å
   - [ ] –ü—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - [ ] WebSocket –∏–ª–∏ SSE (optional)

---

### **–≠—Ç–∞–ø 5: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ü–æ–ª–∏—Ä–æ–≤–∫–∞** (‚è∞ ~2 —á–∞—Å–∞)

1. **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**
   - [ ] API endpoints —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
   - [ ] TypeScript types reference
   - [ ] –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

2. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã**
   - [ ] –ü–∞–ø–∫–∞ `/examples` —Å JSON —Ñ–∞–π–ª–∞–º–∏
   - [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã

3. **–§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - [ ] End-to-end —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö —Ñ–∏—á
   - [ ] Performance —Ç–µ—Å—Ç—ã
   - [ ] Error handling —Ç–µ—Å—Ç—ã

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- [ ] ‚úÖ –ë–∞–∑–æ–≤—ã–π Pexels workflow —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–∞–∫ —Ä–∞–Ω—å—à–µ)
- [ ] ‚úÖ URL download —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–∏–¥–µ–æ + —Ñ–æ—Ç–æ)
- [ ] ‚úÖ Direct files —Ä–∞–±–æ—Ç–∞—é—Ç (base64 + binary)
- [ ] ‚úÖ Mixed sources —Ä–∞–±–æ—Ç–∞—é—Ç (Pexels + URL + Files –≤ –æ–¥–Ω–æ–º –≤–∏–¥–µ–æ)
- [ ] ‚úÖ Blend overlays —Ä–∞–±–æ—Ç–∞—é—Ç (screen, multiply, overlay, add)
- [ ] ‚úÖ Text overlays —Ä–∞–±–æ—Ç–∞—é—Ç (–ø–æ–∑–∏—Ü–∏–∏, —Å—Ç–∏–ª–∏, –∞–Ω–∏–º–∞—Ü–∏–∏)
- [ ] ‚úÖ Chunk processing —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–ª–∏–Ω–Ω—ã–µ –≤–∏–¥–µ–æ –±–µ–∑ crash)
- [ ] ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±—ã—Å—Ç—Ä–µ–µ)

### **–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**

- [ ] üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ —É—Ö—É–¥—à–∏–ª–∞—Å—å (–±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π < 3 –º–∏–Ω)
- [ ] üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è (–ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- [ ] üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ (–º–æ–∂–Ω–æ –¥–µ–±–∞–∂–∏—Ç—å)
- [ ] üîÑ Backward compatibility 100% (—Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç)
- [ ] üìù TypeScript –±–µ–∑ –æ—à–∏–±–æ–∫ (`npm run check`)
- [ ] üß™ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Ä—É—á–Ω—É—é

### **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:**

- [ ] üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–∏—Å—Ç–∞—è (–Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ)
- [ ] üìö –¢–∏–ø—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã (Zod schemas –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
- [ ] üßπ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- [ ] üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≥–¥–µ –Ω—É–∂–Ω–æ
- [ ] üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ ENV

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### **1. –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã**

**‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:**
1. –ü—Ä–æ—á–∏—Ç–∞–π –í–°–Æ —ç—Ç—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. –ò–∑—É—á–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ (–æ—Å–æ–±–µ–Ω–Ω–æ `ShortCreator.ts`)
3. –†–µ–∞–ª–∏–∑—É–π ONE —Ñ–∏—á—É –ø–æ–ª–Ω–æ—Å—Ç—å—é
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –µ—ë –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
5. –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–π

**‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**
- –ù–∞—á–∏–Ω–∞—Ç—å –ø–∏—Å–∞—Ç—å –∫–æ–¥ –Ω–µ –ø—Ä–æ—á–∏—Ç–∞–≤ –¥–æ–∫—É–º–µ–Ω—Ç
- –î–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∏—á –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- –ò–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è
- –ù–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### **2. Debugging**

```bash
# –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
tail -f /root/FantaProjekt/server.log

# –õ–æ–≥–∏ —Å debug level
LOG_LEVEL=debug npm start

# TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run check

# –°–±–æ—Ä–∫–∞
npm run build
```

### **3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
npm start

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ (original)
curl -X POST http://localhost:3123/api/short-video \
  -H "Content-Type: application/json" \
  -d '{"scenes":[{"text":"Test","searchTerms":["sunset"]}],"config":{"orientation":"portrait","voice":"af_sarah"}}'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
curl http://localhost:3123/api/short-video/{videoId}/status

# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ
curl -o test.mp4 http://localhost:3123/api/short-video/{videoId}
```

### **4. –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å**

**–û—à–∏–±–∫–∞:** –ò–∑–º–µ–Ω–∏–ª —Ç–∏–ø, –∑–∞–±—ã–ª –æ–±–Ω–æ–≤–∏—Ç—å Zod schema
**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–π `src/types/shorts.ts` –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–û—à–∏–±–∫–∞:** –°–ª–æ–º–∞–ª backward compatibility
**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π –Ω–æ–≤—ã–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ (`?`)

**–û—à–∏–±–∫–∞:** –ù–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª –æ—à–∏–±–∫—É, –ø—Ä–æ—Ü–µ—Å—Å —É–ø–∞–ª
**–†–µ—à–µ–Ω–∏–µ:** `try/catch` –≤–µ–∑–¥–µ + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ + –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–û—à–∏–±–∫–∞:** –ó–∞–±—ã–ª –æ—á–∏—Å—Ç–∏—Ç—å temporary files
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π `finally` –±–ª–æ–∫–∏ –¥–ª—è cleanup

**–û—à–∏–±–∫–∞:** Performance –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è
**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ—Ä—è–π –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (`logger.debug` —Å timestamps)

### **5. Git Workflow** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

```bash
# –°–æ–∑–¥–∞–π –≤–µ—Ç–∫—É –¥–ª—è —Ñ–∏—á–∏
git checkout -b feature/content-source-flexibility

# –ö–æ–º–º–∏—Ç—å —á–∞—Å—Ç–æ
git commit -m "feat: add ContentSource interface"
git commit -m "feat: implement UrlSource"
git commit -m "test: add UrlSource tests"

# –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ–∏—á–∏
git checkout main
git merge feature/content-source-flexibility
```

### **6. Code Style**

- TypeScript —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º (enabled)
- –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ: `camelCase` –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, `PascalCase` –¥–ª—è –∫–ª–∞—Å—Å–æ–≤
- Async/await –≤–º–µ—Å—Ç–æ callbacks
- Pino logger –≤–º–µ—Å—Ç–æ `console.log`
- Zod schemas –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (–∫–æ–¥) –∏–ª–∏ —Ä—É—Å—Å–∫–æ–º (docs)

---

## üéØ –§–ò–ù–ê–õ–¨–ù–´–ï –ù–ê–ü–£–¢–°–¢–í–ò–Ø

### **–ü–æ–º–Ω–∏:**

1. **–û—Ä–∏–≥–∏–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ** - —Ç–≤–æ—è –∑–∞–¥–∞—á–∞ –ù–ï –°–õ–û–ú–ê–¢–¨ –µ–≥–æ
2. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ —Å–∫–æ—Ä–æ—Å—Ç–∏** - –ª—É—á—à–µ –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. **–¢–µ—Å—Ç–∏—Ä—É–π –∫–∞–∂–¥—ã–π —à–∞–≥** - –Ω–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–π –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∫–æ–¥
4. **Backward compatibility** - —Å—Ç–∞—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å
5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–º–µ–¥–ª—è—Ç—å –±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### **–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ:**

1. –ß–∏—Ç–∞–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ (–æ–Ω —Ö–æ—Ä–æ—à–æ –Ω–∞–ø–∏—Å–∞–Ω)
2. –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ (–æ–Ω–∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ)
3. –ü—Ä–æ–≤–µ—Ä—è–π —Ç–∏–ø—ã (TypeScript –ø–æ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç)
4. –¢–µ—Å—Ç–∏—Ä—É–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ (–æ–¥–∏–Ω –º–æ–¥—É–ª—å –∑–∞ —Ä–∞–∑)

### **–ö—Ä–∞—Å–Ω–∞—è –ª–∏–Ω–∏—è (–ù–ï –î–ï–õ–ê–ô):**

- ‚ùå –ù–µ —É–¥–∞–ª—è–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
- ‚ùå –ù–µ –º–µ–Ω—è–π —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚ùå –ù–µ –ª–æ–º–∞–π TypeScript types
- ‚ùå –ù–µ –∫–æ–º–º–∏—Ç—å –Ω–µ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
- ‚ùå –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π –æ—à–∏–±–∫–∏ ("–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è")

### **–ó–µ–ª—ë–Ω–∞—è –ª–∏–Ω–∏—è (–î–ï–õ–ê–ô):**

- ‚úÖ –°–æ–∑–¥–∞–≤–∞–π –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ–∏—á
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (Factory, Strategy)
- ‚úÖ –ü–∏—à–∏ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
- ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –æ—à–∏–±–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –ò –†–ï–°–£–†–°–´

### **–í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:**

1. `src/short-creator/ShortCreator.ts` - –æ—Å–Ω–æ–≤–Ω–æ–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
2. `src/types/shorts.ts` - –≤—Å–µ TypeScript types
3. `src/remotion/compositions/ShortVideo.tsx` - Remotion –∫–æ–º–ø–æ–∑–∏—Ü–∏—è
4. `src/server/routers/rest.ts` - REST API endpoints
5. `–î–æ–∫—É–º–µ–Ω—Ç—ã/–ê–†–•–ò–¢–ï–ö–¢–£–†–ê.md` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
6. `–î–æ–∫—É–º–µ–Ω—Ç—ã/–ú–ê–ù–ò–§–ï–°–¢_–ü–†–û–ï–ö–¢–ê.md` - –≤–∏–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### **–í–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã:**

- Remotion Docs: https://www.remotion.dev/docs
- Whisper CPP: https://github.com/ggerganov/whisper.cpp
- Pexels API: https://www.pexels.com/api/documentation/
- Kokoro TTS: https://huggingface.co/onnx-community/Kokoro-82M-v1.0-ONNX

### **–°–µ—Ä–≤–µ—Ä:**

- IP: `178.156.142.35`
- Port: `3123`
- RAM: `3.7 GB` (–±—É–¥–µ—Ç —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 8 GB)
- Videos: `/root/.ai-agents-az-video-generator/videos/`
- Logs: `/root/FantaProjekt/server.log`

---

## üöÄ –ù–ê–ß–ê–õ–û –†–ê–ë–û–¢–´

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /root/FantaProjekt

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å TypeScript
npm run check

# 4. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
npm start

# 6. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - —Ç–µ—Å—Ç
curl -X POST http://localhost:3123/api/short-video \
  -H "Content-Type: application/json" \
  -d '{
    "scenes": [{"text": "Test video", "searchTerms": ["nature"]}],
    "config": {"orientation": "portrait", "voice": "af_sarah"}
  }'

# 7. –ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ—à—ë–ª ‚úÖ - –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å!
```

---

## üìù –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú

–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–∏—Å–∞—Ç—å –∫–æ–¥, —É–±–µ–¥–∏—Å—å —á—Ç–æ:

- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª –í–°–Æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤—ã—à–µ
- [ ] –ü–æ–Ω—è–ª –∏—Å—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ (original ‚Üí PEPSI ‚Üí FantaProjekt)
- [ ] –ü–æ–Ω—è–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã (–Ω–µ –ª–æ–º–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª!)
- [ ] –ò–∑—É—á–∏–ª —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ (`ShortCreator.ts`, `ShortVideo.tsx`)
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª —Å–µ—Ä–≤–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –°–æ–∑–¥–∞–ª —Ç–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ (–±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] –ü–æ–Ω—è–ª –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø–æ—ç—Ç–∞–ø–Ω–æ!)
- [ ] –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∫–∞–∂–¥–æ–π —Ñ–∏—á–∏ –æ—Ç–¥–µ–ª—å–Ω–æ

---

## ‚ú® –£–î–ê–ß–ò!

**–¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å —Å –æ—Ç–ª–∏—á–Ω–æ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑–æ–π.**
**–¢–≤–æ—è –∑–∞–¥–∞—á–∞ - —Å–¥–µ–ª–∞—Ç—å –µ—ë –µ—â—ë –ª—É—á—à–µ, –Ω–µ —Å–ª–æ–º–∞–≤ —Ç–æ, —á—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.**
**–ü–æ—ç—Ç–∞–ø–Ω–æ, –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, —Å —Ç–µ—Å—Ç–∞–º–∏.**

**–ù–∞—á–∏–Ω–∞–π —Å ContentSource - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ!**

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 13 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ü—Ä–æ–µ–∫—Ç:** FantaProjekt  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ üöÄ

