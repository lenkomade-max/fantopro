# ะัะธะผะตัั Telegram ัะฒะตะดะพะผะปะตะฝะธะน

## ๐ ะะพะผะฐะฝะดั (ะพัะฒะตัั ะฝะฐ /ะบะพะผะฐะฝะดั)

### /status
```
๐ *ะกะพััะพัะฝะธะต ัะตัะฒะตัะฐ*
โโโโโโโโโโโโโโโโโโโโ

๐ป *ะะตััััั:*
  โข CPU: 45.2%
  โข ะะฐะผััั: 8521/16384MB (52.0%)
  โข Uptime: 125 ะผะธะฝัั

๐ฌ *ะะตะฝะดะตัะธะฝะณ:*
  โข ะะบัะธะฒะฝัั ะฟัะพัะตััะพะฒ: 1
  โข ะขะตะบััะธะน: cmgzf7q...
  โข ะัะพะณัะตัั: 67%
  โข ะกัะฐะดะธั: Rendering video with Remotion...
```

### /queue
```
๐ *ะัะตัะตะดั ัะตะฝะดะตัะธะฝะณะฐ*
โโโโโโโโโโโโโโโโโโโโ

ะัะตะณะพ ะทะฐะดะฐั: 2

1. cmgzf7q...
   โข ะกัะฐััั: โ๏ธ ะะฑัะฐะฑะพัะบะฐ
   โข ะัะพะณัะตัั: 67%
   โข ะกัะฐะดะธั: Rendering video with Remotion...
   โข ะัะตะผั: 3 ะผะธะฝ

2. cmgzlyn...
   โข ะกัะฐััั: โณ ะ ะพัะตัะตะดะธ
   โข ะัะพะณัะตัั: 0%
   โข ะกัะฐะดะธั: Waiting in queue...
   โข ะัะตะผั: 0 ะผะธะฝ
```

### /processes
```
โ๏ธ *ะะบัะธะฒะฝัะต ะฟัะพัะตััั*
โโโโโโโโโโโโโโโโโโโโ

*1. Video ID:* `cmgzf7qjt001601r028s7hi2y`
   โข ะัะพะณัะตัั: โโโโโโโโโโ 67%
   โข ะกัะฐะดะธั: Rendering video with Remotion...
   โข ะัะตะผั: 3ะผ 45ั
   โข ะกัะฐััั: โ๏ธ ะะฑัะฐะฑะพัะบะฐ

๐ก ะัะฟะพะปัะทัะนัะต `/kill <videoId>` ะดะปั ะพััะฐะฝะพะฒะบะธ ะฟัะพัะตััะฐ
```

### /health
```
๐ฅ *ะะธะฐะณะฝะพััะธะบะฐ ัะตัะฒะตัะฐ*
โโโโโโโโโโโโโโโโโโโโ

*ะะฑัะธะน ััะฐััั:* โ healthy

๐ป *ะกะธััะตะผะฐ:*
  โข OS: linux 6.8.0-85-generic
  โข Hostname: ubuntu
  โข Node.js: v18.19.1
  โข Uptime: 5ั

๐ *ะะตััััั:*
  โข CPU: 45.2% (8 cores)
  โข Memory: 8521/16384MB (52.0%)
  โข Load Average: 1.23, 1.45, 1.67

๐ฌ *ะะตะฝะดะตัะธะฝะณ:*
  โข ะะบัะธะฒะฝัั ะฟัะพัะตััะพะฒ: 1
  โข ะัะพัะตััั:
    - cmgzf7q: 67%
```

### /logs 20
```
๐ *ะะพัะปะตะดะฝะธะต 20 ัััะพะบ ะปะพะณะพะฒ*
โโโโโโโโโโโโโโโโโโโโ

```
[2025-10-26T12:34:56.789Z] INFO: Video created successfully - id: cmgzf7q
[2025-10-26T12:34:45.123Z] DEBUG: Rendering video with Remotion
[2025-10-26T12:34:30.456Z] INFO: Starting video creation...
[2025-10-26T12:34:20.789Z] INFO: Video request received - id: cmgzf7q
```
```

### /kill cmgzf7q
```
โ ะัะพัะตัั `cmgzf7q` ะพััะฐะฝะพะฒะปะตะฝ!

โข ะัะป ะฝะฐ ััะฐะดะธะธ: Rendering video with Remotion...
โข ะัะพะณัะตัั: 67%

โ๏ธ *ะะฝะธะผะฐะฝะธะต:* ะัะตะผะตะฝะฝัะต ัะฐะนะปั ะผะพะณัั ะพััะฐัััั ะฝะฐ ะดะธัะบะต.
```

### /help
```
๐ค *ะะพะผะฐะฝะดั FantaProjekt Bot*
โโโโโโโโโโโโโโโโโโโโ

๐ *ะะพะฝะธัะพัะธะฝะณ:*
  /status - ะกะพััะพัะฝะธะต ัะตัะฒะตัะฐ
  /queue - ะัะตัะตะดั ัะตะฝะดะตัะธะฝะณะฐ
  /processes - ะะบัะธะฒะฝัะต ะฟัะพัะตััั
  /health - ะะพะปะฝะฐั ะดะธะฐะณะฝะพััะธะบะฐ

โ๏ธ *ะฃะฟัะฐะฒะปะตะฝะธะต:*
  /kill <videoId> - ะััะฐะฝะพะฒะธัั ะฟัะพัะตัั
  /logs [lines] - ะะพัะปะตะดะฝะธะต ะปะพะณะธ (default: 20)
  /notifications - ะฃะฟัะฐะฒะปะตะฝะธะต ัะฒะตะดะพะผะปะตะฝะธัะผะธ
  /restart - ะะตัะตะทะฐะฟััะบ ัะตัะฒะตัะฐ

๐ณ *Docker (ะฒะตัั /root):*
  /docker ps - ะกัะฐััั ะบะพะฝัะตะนะฝะตัะพะฒ
  /docker logs <service> - ะะพะณะธ ะบะพะฝัะตะนะฝะตัะฐ
  /docker restart <service> - ะะตัะตะทะฐะฟััะบ
  /docker stats - ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ

๐ป *ะกะธััะตะผะฐ:*
  /exec <command> - ะัะฟะพะปะฝะธัั ะบะพะผะฐะฝะดั
  /disk - ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะดะธัะบะฐ
  /top - ะัะพัะตััั CPU/RAM

โ *ะะพะผะพัั:*
  /help - ะญัะพ ัะพะพะฑัะตะฝะธะต

๐ก *ะัะธะผะตัั:*
  `/kill cmgzf7q`
  `/logs 50`
  `/docker restart n8n`
  `/exec ls -la /root`
```

---

## ๐ ะะฒัะพะผะฐัะธัะตัะบะธะต ัะฒะตะดะพะผะปะตะฝะธั (ะบะพัะพััะต ะผะพะถะฝะพ ะฒัะบะปััะธัั)

### ๐ะกะตัะฒะตั ััะฟะตัะฝะพ ะทะฐะฟััะตะฝ ะธ ะณะพัะพะฒ ะบ ัะฐะฑะพัะต! ๐
```
โน๏ธ ๐ะกะตัะฒะตั ััะฟะตัะฝะพ ะทะฐะฟััะตะฝ ะธ ะณะพัะพะฒ ะบ ัะฐะฑะพัะต! ๐
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 12:30:00
โโโโโโโโโโโโโโโโโโโโ
  โข ะะพัั: `3123`
  โข ะะตััะธั Node.js: `v18.19.1`
  โข ะะปะฐััะพัะผะฐ: `linux`

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 4/16GB (25%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 0ั
```
**ะะพะถะฝะพ ะฒัะบะปััะธัั:** `/notifications disable server_started`

---

### ๐ฌ ะะพะฒัะน ะทะฐะฟัะพั ะฝะฐ ะฒะธะดะตะพ
```
โน๏ธ ะะพะปััะตะฝ ะฝะพะฒัะน ะทะฐะฟัะพั ะฝะฐ ัะพะทะดะฐะฝะธะต ะฒะธะดะตะพ! ๐ฌ
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 12:35:12
โโโโโโโโโโโโโโโโโโโโ

๐ *ะงัะพ ะฟัะพะธะทะพัะปะพ:*
ะะพะปััะตะฝ ะฝะพะฒัะน ะทะฐะฟัะพั ะฝะฐ ัะพะทะดะฐะฝะธะต ะฒะธะดะตะพ! ๐ฌ

๐ *ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั:*
  โข ID ะฒะธะดะตะพ: `cmgzf7qjt001601r028s7hi2y`
  โข ะะพะปะธัะตััะฒะพ ััะตะฝ: `3 ััะตะฝั`

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 5/16GB (31%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 5ั
```
**ะะพะถะฝะพ ะฒัะบะปััะธัั:** `/notifications disable video_request`

---

### โ ะะธะดะตะพ ะณะพัะพะฒะพ
```
ะะธะดะตะพ ััะฟะตัะฝะพ ัะพะทะดะฐะฝะพ! โ๐
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 12:38:45
โโโโโโโโโโโโโโโโโโโโ

๐ *ะงัะพ ะฟัะพะธะทะพัะปะพ:*
ะะธะดะตะพ ััะฟะตัะฝะพ ัะพะทะดะฐะฝะพ! โ๐

๐ *ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั:*
  โข ID ะฒะธะดะตะพ: `cmgzf7qjt001601r028s7hi2y`
  โข ะะปะธัะตะปัะฝะพััั: `45ั`
  โข ะะพะปะธัะตััะฒะพ ััะตะฝ: `3 ััะตะฝั`

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 6/16GB (37%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 5ั
```
**ะะพะถะฝะพ ะฒัะบะปััะธัั:** `/notifications disable video_created`

---

### โ ะัะธะฑะบะฐ ัะพะทะดะฐะฝะธั ะฒะธะดะตะพ
```
โ *ะะจะะะะ*
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 12:40:15
โโโโโโโโโโโโโโโโโโโโ

๐ *ะงัะพ ะฟัะพะธะทะพัะปะพ:*
ะะต ัะดะฐะปะพัั ัะพะทะดะฐัั ะฒะธะดะตะพ! ะัะพะธะทะพัะปะฐ ะพัะธะฑะบะฐ ะฒ ะฟัะพัะตััะต ะณะตะฝะตัะฐัะธะธ.

โ *ะะตัะฐะปะธ ะพัะธะฑะบะธ:*
`FFmpeg timeout after 120 seconds`

๐ *ะะดะต ะฟัะพะธะทะพัะปะฐ ะพัะธะฑะบะฐ:*
```
TypeError: FFmpeg timeout after 120 seconds
    at FFMpeg.process (/app/src/short-creator/libraries/FFmpeg.ts:42:15)
    at ShortCreator.createShort (/app/src/short-creator/ShortCreator.ts:156:10)
```
```

๐ *ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั:*
  โข ID ะฒะธะดะตะพ: `cmgzf7qjt001601r028s7hi2y`
  โข ะะพะปะธัะตััะฒะพ ััะตะฝ: `3 ััะตะฝั`

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 7/16GB (43%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 5ั
```
**ะะ ะพัะบะปััะฐะตััั** (ะบัะธัะธัะฝะฐั ะพัะธะฑะบะฐ!)

---

### โ๏ธ ะะฒะฐ ะฟัะพัะตััะฐ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ
```
โ๏ธ *ะะะะะฃะะะะะะะะะ*
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 12:42:30
โโโโโโโโโโโโโโโโโโโโ

๐ *ะงัะพ ะฟัะพะธะทะพัะปะพ:*
โ๏ธ ะะฑะฝะฐััะถะตะฝะพ 2 ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะฟัะพัะตััะพะฒ ัะตะฝะดะตัะธะฝะณะฐ!

ะญัะพ ะผะพะถะตั ะฟัะธะฒะตััะธ ะบ ะฟะตัะตะณััะทะบะต ัะตัะฒะตัะฐ ะธ ะทะฐะฒะธัะฐะฝะธั.

ะะบัะธะฒะฝัะต ะฟัะพัะตััั:
โข cmgzf7q: Rendering video with Remotion... (67%)
โข cmgzlyn: Generating voice for scene 1/3... (12%)

๐ *ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั:*
  โข ะะบัะธะฒะฝัั ะฟัะพัะตััะพะฒ: `2`
  โข ะัะพัะตััั: `cmgzf7q, cmgzlyn`

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 12/16GB (75%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 5ั
```
**ะะ ะพัะบะปััะฐะตััั** (ะฒะฐะถะฝะพะต ะฟัะตะดัะฟัะตะถะดะตะฝะธะต!)

---

### โ๏ธ ะััะพะบะฐั ะฝะฐะณััะทะบะฐ
```
โ๏ธ *ะะะะะฃะะะะะะะะะ*
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 12:45:00
โโโโโโโโโโโโโโโโโโโโ

๐ *ะงัะพ ะฟัะพะธะทะพัะปะพ:*
โ๏ธ ะััะพะบะฐั ะฝะฐะณััะทะบะฐ ะฝะฐ ัะตัะฒะตั!

CPU: 92.5%
ะะฐะผััั: 14523MB / 16384MB (88.6%)
ะะบัะธะฒะฝัั ะฟัะพัะตััะพะฒ: 2

๐ *ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะธะฝัะพัะผะฐัะธั:*
  โข CPU: `92.5%`
  โข ะะฐะผััั: `88.6%`
  โข ะะบัะธะฒะฝัั ะฟัะพัะตััะพะฒ: `2`

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 14/16GB (88%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 5ั
```
**ะะพะถะฝะพ ะฒัะบะปััะธัั:** `/notifications disable high_resources`

---

### ๐จ ะัะธัะธัะตัะบะฐั ะพัะธะฑะบะฐ (Uncaught Exception)
```
๐จ *ะะะะขะะงะะกะะะฏ ะะจะะะะ*
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 12:50:00
โโโโโโโโโโโโโโโโโโโโ

๐ *ะงัะพ ะฟัะพะธะทะพัะปะพ:*
ะัะพะธะทะพัะปะฐ ะบัะธัะธัะตัะบะฐั ะฝะตะพะฑัะฐะฑะพัะฐะฝะฝะฐั ะพัะธะฑะบะฐ! ะกะตัะฒะตั ะฑัะดะตั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะตัะตะทะฐะฟััะตะฝ.

โ *ะะตัะฐะปะธ ะพัะธะฑะบะธ:*
`Cannot read property 'map' of undefined`

๐ *ะะดะต ะฟัะพะธะทะพัะปะฐ ะพัะธะฑะบะฐ:*
```
TypeError: Cannot read property 'map' of undefined
    at processScenes (/app/src/short-creator/ShortCreator.ts:142:15)
    at ShortCreator.create (/app/src/short-creator/ShortCreator.ts:89:5)
```
```

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 8/16GB (50%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 24ั
```
**ะะ ะพัะบะปััะฐะตััั** (ะบัะธัะธัะฝะฐั ะพัะธะฑะบะฐ!)

---

### ๐ ะััะฐะฝะพะฒะบะฐ ัะตัะฒะตัะฐ
```
โ๏ธ *ะะะะะฃะะะะะะะะะ*
โโโโโโโโโโโโโโโโโโโโ
๐ฅ *ะกะตัะฒะตั:* FantaProjekt API
๐ *ะฅะพัั:* ubuntu:3123
๐ *ะัะตะผั:* 26.10.2025, 13:00:00
โโโโโโโโโโโโโโโโโโโโ

๐ *ะงัะพ ะฟัะพะธะทะพัะปะพ:*
โ๏ธ ะกะตัะฒะตั ะฟะพะปััะธะป SIGTERM ะธ ะทะฐะฒะตััะฐะตั ัะฐะฑะพัั

๐ป *ะกะพััะพัะฝะธะต ัะธััะตะผั:*
  โข ะะฐะผััั: 8/16GB (50%)
  โข ะัะพัะตััะพั: 8 ัะดะตั
  โข ะะฐะฑะพัะฐะตั: 30ั
```
**ะะพะถะฝะพ ะฒัะบะปััะธัั:** `/notifications disable server_stopped`

---

## ๐๏ธ ะฃะฟัะฐะฒะปะตะฝะธะต ัะฒะตะดะพะผะปะตะฝะธัะผะธ

### /notifications
```
๐ *ะฃะฟัะฐะฒะปะตะฝะธะต ัะฒะตะดะพะผะปะตะฝะธัะผะธ*
โโโโโโโโโโโโโโโโโโโโ

*ะขะตะบััะธะต ะฝะฐัััะพะนะบะธ:*
  โ server_started - ะะฐะฟััะบ ัะตัะฒะตัะฐ
  โ video_request - ะะพะฒัะน ะทะฐะฟัะพั ะฝะฐ ะฒะธะดะตะพ
  โ video_created - ะะธะดะตะพ ะณะพัะพะฒะพ
  โ high_resources - ะััะพะบะฐั ะฝะฐะณััะทะบะฐ
  โ server_stopped - ะััะฐะฝะพะฒะบะฐ ัะตัะฒะตัะฐ

*ะัะตะณะดะฐ ะฒะบะปััะตะฝั (ะบัะธัะธัะฝัะต):*
  ๐ video_failed - ะัะธะฑะบะฐ ัะพะทะดะฐะฝะธั ะฒะธะดะตะพ
  ๐ dual_processes - ะะฒะฐ ะฟัะพัะตััะฐ
  ๐ uncaught_exception - ะัะธัะธัะตัะบะฐั ะพัะธะฑะบะฐ
  ๐ server_crashed - ะะฐะดะตะฝะธะต ัะตัะฒะตัะฐ

*ะะพะผะฐะฝะดั:*
  `/notifications disable video_request` - ะัะบะปััะธัั
  `/notifications enable video_request` - ะะบะปััะธัั
  `/notifications reset` - ะกะฑัะพัะธัั ะฝะฐ defaults
```

### /notifications disable video_created
```
โ ะฃะฒะตะดะพะผะปะตะฝะธะต `video_created` ะฒัะบะปััะตะฝะพ!

ะั ะฑะพะปััะต ะฝะต ะฑัะดะตัะต ะฟะพะปััะฐัั ัะฒะตะดะพะผะปะตะฝะธั ะพ ะณะพัะพะฒัั ะฒะธะดะตะพ.
ะะบะปััะธัั: `/notifications enable video_created`
```

---

## ๐ ะะฐะบะธะต ะผะพะถะฝะพ ะฒัะบะปััะธัั:

โ **ะะพะถะฝะพ ะฒัะบะปััะธัั:**
- `server_started` - ะะฐะฟััะบ ัะตัะฒะตัะฐ
- `server_stopped` - ะััะฐะฝะพะฒะบะฐ ัะตัะฒะตัะฐ
- `video_request` - ะะพะฒัะน ะทะฐะฟัะพั ะฝะฐ ะฒะธะดะตะพ
- `video_created` - ะะธะดะตะพ ะณะพัะพะฒะพ
- `high_resources` - ะััะพะบะฐั ะฝะฐะณััะทะบะฐ

๐ **ะะ ะพัะบะปััะฐัััั (ะบัะธัะธัะฝัะต):**
- `video_failed` - ะัะธะฑะบะฐ ัะพะทะดะฐะฝะธั ะฒะธะดะตะพ
- `dual_processes` - ะะฒะฐ ะฟัะพัะตััะฐ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ
- `uncaught_exception` - ะะตะพะฑัะฐะฑะพัะฐะฝะฝะฐั ะพัะธะฑะบะฐ
- `unhandled_rejection` - Promise rejection
- `server_crashed` - ะะฐะดะตะฝะธะต ัะตัะฒะตัะฐ

---

## ๐จ ะัะปะธ ัะพัะผะฐั ะฝะต ะฝัะฐะฒะธััั

ะะตัั ัะพัะผะฐั ัะพะพะฑัะตะฝะธะน ะผะพะถะฝะพ ะธะทะผะตะฝะธัั ะฒ:
- `src/monitoring/AlertManager.ts` - ะฐะฒัะพะผะฐัะธัะตัะบะธะต ัะฒะตะดะพะผะปะตะฝะธั
- `src/monitoring/CommandHandler.ts` - ะพัะฒะตัั ะฝะฐ ะบะพะผะฐะฝะดั

ะะพะถะตัะต ะฟะพะฟัะพัะธัั ะธะทะผะตะฝะธัั ััะธะปั, ัะผะพะดะทะธ, ะบะพะปะธัะตััะฒะพ ะดะตัะฐะปะตะน ะธ ั.ะด.
